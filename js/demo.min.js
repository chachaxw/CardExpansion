"use strict";var demo=function(n,a){function o(){var a=Trianglify({width:n.innerWidth,height:n.innerHeight,cell_size:90,variance:1,stroke_width:.5,color_function:function(n,a){return"#7cc576"}}).svg();d(a),s()}function d(n){$(t.pattern).append(n),i.paths=[].slice.call(n.childNodes),i.points=[],i.paths.forEach(function(n){$(n).attr("class",e.polygon+""+e.patternHidden);var a=n.getBoundingClientRect(),t={x:a.left+a.width/2,y:a.top+a.height/2};i.points.push(t)}),$(t.pattern).removeClass(e.polygonHidden)}function s(){var n=$(t.card);$.each(n,function(n,a){var e=new Card(a,n);r[a]={card:e};var i=$(n).find(t.cardImage),o=$(n).find(t.cardClose);i.on("click",c.bind(this,!0,a)),o.on("click",c.bind(this,!1,a))})}function c(n,a,t){var e=r[a].card;if(!e.isOpen||!n){var i=new TimelineLite({pasued:!0}),o=l(a);if(e.isOpen){var d=e.closeCard(),s=.8*d.duration();i.add(d),i.add(o,s)}else i.add(o),i.add(e.openCard(p),0);i.play()}}function l(n){var a=new TimelineLite,t=r[n].card;for(var e in r){var i=r[e].card;i.id===n||t.isOpen||a.add(i.hideCard(),0),i.id!==n&&t.isOpen&&a.add(i.showCard(),0)}return a}function p(n){var a=n.width/2,t={x:n.x,y:n.y};i.points.forEach(function(n,r){h(n,a,t)?$(i.paths[r]).attr("class",e.polygon):$(i.paths[r]).attr("class",e.polygon+""+e.polygonHidden)})}function h(n,a,t){var e=n.x,i=n.y,r=t.x,o=t.y,d=a*a,s=Math.pow(e-r,2)+Math.pow(i-o,2)<=d;return s}var t={pattern:".pattern",card:".card",cardImage:".card_image",cardClose:".card_btn-close"},e={patternHidden:".pattern-hidden",polygon:".polygon",polygonHidden:".polygon-hidden"},i={paths:null,points:null},r={};return{init:o}}(window);window.onload=demo.init;