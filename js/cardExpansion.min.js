"use strict";var Card=function(n,t){function i(n,t){this.id=n,this._el=t,this._container=$(this._el).find(a.container)[0],this._clip=$(this._el).find(a.clip)[0],this._content=$(this._el).find(a.content)[0],this.isOpen=!1,this._TL=null}var a={container:".card_container",content:".card_content",clip:".clip"},e={containerClosed:"card_container-closed",bodyHidden:"body-hidden"};return i.prototype.openCard=function(n){this._TL=new TimelineLite;var t=this._slideContentDown(),a=this._clipImageIn(),e=this._floatContainer(),i=this._clipImageOut(),r=this._slideContentUp();return this._TL.add(t),this._TL.add(a,0),this._TL.add(e,"-="+.6*a.duration()),this._TL.add(i,"-="+.3*e.duration()),this._TL.add(r,"-="+.6*i.duration()),this.isOpen=!0,this._TL},i.prototype._slideContentDown=function(){var t=TweenLite.to(this._content,.8,{y:n.innerHeight,ease:Expo.easeInOut});return t},i.prototype._clipImageIn=function(){var n=TweenLite.to(this._clip,1,{attr:{r:60},ease:Expo.easeInOut});return n},i.prototype._floatContainer=function(t){$(document.body).addClass(e.bodyHidden);var a=new TimelineLite,i=this._container.getBoundingClientRect(),r=n.innerWidth,o={width:0,x:i.left+i.width/2,y:i.top+i.height/2};return a.set(this._container,{width:i.width,height:i.height,x:i.left,y:i.top,position:"fixed",overflow:"hidden"}),a.to([this._container,o],2,{width:r,height:"100%",x:r/2,y:0,xPercent:-50,ease:Expo.easeInOut,clearProps:"all",className:"-="+e.containerClosed,onUpdate:t.bind(this,o)}),a},i.prototype._clipImageOut=function(){var n=$(this._clip).attr("r"),t=this._clipImageIn();return t.vars.attr.r=n,t},i.prototype._slideContentUp=function(){var n=TweenLite.to(this._content,1,{y:0,clearProps:"all",ease:Expo.easeInOut});return n},i.prototype.closeCard=function(){return TweenLite.to(this._container,.4,{scrollTo:{y:0},onComplete:function(){$(this._container).css("overflow","hidden")}.bind(this),ease:Power2.easeOut}),this._TL.eventCallback("onReverseComplete",function(){TweenLite.set([this._container,this._content],{clearProps:"all"}),$(document.body).removeClass(e.bodyHidden),this.isOpen=!1}.bind(this)),this._TL.reverse()},i.prototype.hideCard=function(){var n=TweenLite.to(this._el,.4,{scale:.8,autoAlpha:0,transformOrigin:"center bottom",ease:Expo.easeInOut});return n},i.prototype.showCard=function(){var n=TweenLite.to(this._el,.5,{scale:1,autoAlpha:1,clearProps:"all",ease:Expo.easeInOut});return n},i}(window);